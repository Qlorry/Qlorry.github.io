import{c as F,C as A,d as P,V as o,B as S,S as C,a as T,n as _,M as b,L as G}from"./three.module-5f6cbc95.js";const c=-1;function V(e,s,n,r){M(e),e.clear();let t=[],i=[],p=[];const w=new F({color:new A(n)}),f=new P({color:16777215});return s.forEach((y,l)=>{const a=[];a.push(new o(0,c)),y.forEach((E,L)=>{a.push(new o(L,l+E))}),a.push(new o(y.length-1,c));const h=new S().setFromPoints(a),d=new C(a),B=new T(d);let g=new Float32Array(h.attributes.position.count);p.push(g),h.setAttribute("displacement",new _(g,1));const m=new b(B,f);m.position.setZ((s.length-l)*2),e.add(m),i.push(m);const u=new G(h,w);u.position.setZ((s.length-l)*2+1),e.add(u),t.push(u)}),{outline:t,plane:i,planeDisplacement:p,materials:[w,f]}}function Z(e,s){s.forEach((n,r)=>{const t=[];t.push(new o(0,c)),n.forEach((i,p)=>{t.push(new o(p,r+i))}),t.push(new o(n.length-1,c)),e.outline[r].geometry.setFromPoints(t),e.plane[r].geometry.setFromPoints(t)})}function M(e){e.children.forEach(s=>{M(s)}),e.geometry&&e.geometry.dispose&&e.geometry.dispose(),e.material&&e.material.dispose&&e.material.dispose()}export{V as c,M as d,Z as u};
